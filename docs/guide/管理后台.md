# 管理后台

管理后台是 ValPoint 的运营管理中心，提供用户管理、投稿审核、数据统计等功能。

::: warning 权限说明
管理后台需要管理员权限才能访问，请在 `.env` 中配置 `VITE_ADMIN_ACCOUNT` 和 `VITE_ADMIN_PASSWORD`。
:::

## 🔗 访问方式

- **本地开发**：`http://localhost:3208/admin.html`
- **Docker 部署**：`http://localhost:8080/admin.html`
- **线上环境**：`https://yourdomain.com/admin.html`

## 🧱 功能模块

### 📊 仪表盘

管理后台首页，展示核心运营数据：

- **用户统计**：注册用户数、活跃用户趋势
- **点位统计**：总点位数、各地图/英雄分布
- **最近活动**：用户注册、点位创建、分享记录

### 👥 用户管理

管理平台用户：

- 查看用户列表
- 搜索用户（邮箱/昵称）
- 查看用户详情和点位数据
- 编辑用户信息

### 📝 投稿审核

审核用户提交的公共点位：

- 待审核列表
- 预览点位详情
- 通过/拒绝投稿
- 审核历史记录

### 📤 共享库管理

管理公共分享的点位数据：

- 查看所有共享点位
- 搜索和筛选
- 删除违规内容
- 数据统计

### 📥 下载日志

查看用户批量下载记录：

- 下载时间
- 下载用户
- 下载内容

### ⚙️ 系统设置

平台配置管理：

- **站点配置**：设置站点基本信息
- **功能开关**：启用/禁用特定功能
- **数据清理**：清理过期数据

## 🔐 认证方式

### 环境变量认证（推荐）

在 `.env` 中配置：

```ini
VITE_ADMIN_ACCOUNT=admin@example.com
VITE_ADMIN_PASSWORD=your_secure_password
```

使用该账号密码登录管理后台，无需在 Supabase 中注册。

### Supabase 用户认证

也可以使用在 Supabase Auth 中注册的用户登录，但需要在数据库中设置该用户的管理员权限。

## ❓ 常见问题

### Q: 忘记管理员密码？

修改 `.env` 文件中的 `VITE_ADMIN_PASSWORD`，然后重启服务。

### Q: 如何添加多个管理员？

目前环境变量认证只支持单个管理员账号。如需多管理员，请：
1. 在 Supabase Auth 中创建用户
2. 在 `users` 表中设置 `is_admin = true`

### Q: 管理后台打不开？

检查以下几点：
1. 确认访问路径正确（`/admin.html`）
2. 确认构建成功（`npm run build`）
3. 检查浏览器控制台错误信息
