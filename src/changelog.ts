type ChangelogItem = string | { text: string; children?: string[] };

export const changelogEntries: { date: string; items: ChangelogItem[] }[] = [
    {
    date: '2025-12-09',
    items: [
      '统一图文弹窗底部按钮样式',
      '优化查看点位弹窗标题与说明文案的位置',
      '编辑实现能再次修改地图点位数据',
      '优化新增/编辑图文攻略弹窗，从中部弹窗改成右侧抽屉式弹窗',
      '优化编辑已存在的点位，可以重新标注',
    ],
  },
  {
    date: '2025-12-08',
    items: [
      '修复左侧栏技能图标选中与中间栏技能图标不吻合的情况',
      '角标展示该地图下该特工的总数，不受攻/防筛选影响',
      '新增AI记忆文档（AGENTS.md）',
      '修改刷新页面后总是选中sova的BUG',
      '修复用户可以无限复制共享库点位数据问题',
      '新增地图封面背景',
      '使用国服（无畏契约）api，自动映射正确的技能图标顺序和技能文案',
      '新增技能名称对照配置',
      '映射维斯、钛狐、幻棱、禁灭',
    ],
  },
  {
    date: '2025-12-07',
    items: [
      '新增地图封面背景',
      '使用国服（无畏契约）api，自动映射正确的技能图标顺序和技能文案',
      '新增技能名称对照配置',
      '映射维斯、钛狐、幻棱、禁灭',
      '重新映射所有英雄的技能图标',
      '如果点位是从共享库复制而来，直接提示使用原分享 ID，不再创建新的共享数据',
      '已修复共享库保存到个人库时报 PGRST204: abilityIndex 列不存在 的问题',
      '编辑卡片新增选择阵营',
      '从App.tsx拆分多个功能模块',
      '优化更新日志代码排版',
      '优化更新日志渲染布局',
      '精简数据表SQL代码，实现三合一，一键复制SQL配置',
      '新增更新日志',
      '删除详情页图片标题的序号',
      '共享库定时清除数据（15天后自动清除共享库的数据）',
      '继续优化共享库和个人库的展示',
      '新增共享库点位和个人库点位展示',
      '新增站位2预览图',
      '修复蚂蚁线',
      '修复游客模式，在分享页面中，提示弹窗被遮挡问题',
      {
        text: '新增密码登录验证，以及分离用户模式和游客模式', 
        children: [
          '登录模式：可新增、编辑、删除、分享点位', 
          '游客模式：可查看和分享该 ID 的点位数据，新增/编辑/删除入口隐藏'
        ] 
      },
      '修复关闭编辑视图卡界面问题',
      '修复蚂蚁线BUG',
      '优化点位来源，以及修改样式，限制备份文件提交到git',
      '重新优化点位弹窗的头部样式',
      '新增点位来源',
      '更新readme',
      '删除源码备份/快照',
      '新增共享库配置',
    ],
  },
  {
    date: '2025-12-06',
    items: [
      '修复跨数据库互通，新增共享库',
      '新增cloudfare部署支持',
      '修改数据库逻辑，实现跨数据库互通',
      '列表分页调整，当等于小于8个时，隐藏分页按钮，当超过8个时，显示列表分页按钮',
      '新增自定义ID，支持跨设备共享',
      '修复部分字体乱码的情况',
      '格式化CSS文档',
      '去除中部地图左上角的浮动模块',
      '编辑与关闭按钮间距调整',
      '将页面内所有的10px字体提升至12px',
      '卡片列表样式调整，保持图标一致性',
      '分享按钮迁移至右侧栏',
      '新增网站LOGO以及ICO',
      '去除SVG自带#ddd背景',
      '点位查看时的自动刷新并重置筛选，避免旧点位被筛掉',
      '将地图从图床改成本地图片形式',
    ],
  },
  {
    date: '2025-12-05',
    items: [
      '移除对firebase的支持，使用supabase做后端',
      '新增git做本地版本管理',
      '新增一键清除点位数据按钮',
      '阵营选择迁移至右侧栏',
      '分享页面新增保存点位按钮，可以保存点位到自己的库中',
      {
        text: '分享页面定制', 
        children: [
          '右侧栏：全屏地图', 
          '左侧栏：地图、阵营、点位标题、点位图片'
        ]
      },
      '添加点位分享功能',
      {
        text: '更新UI布局，使用三栏布局', 
        children: [
          '右侧栏：查看点位、新增点位', 
          '中间栏：全屏地图', 
          '左侧栏：地图、阵营、英雄、技能'
        ]
      },
      '优化冗余的代码以及没有被引用的数据库',
      '拆分App.tsx，优化结构',
      '使用codex进行本地项目构建（Vite + React + TypeScript + firebase）',
    ],
  },
  {
    date: '2025-12-04',
    items: [
      '统一弹窗样式，为左侧单描边样式',
      '新增点位重复编辑按钮',
      '新增角色点位数量角标',
      '新增鼠标在角色或技能图标悬停时，显示蚂蚁线',
      '删除编辑时的详细说明文本框',
      '新增瞄点2图片占位',
      '新增点位编辑添加图片链接功能',
      '去除地图中放大缩小按钮',
      '修复角色和技能不随防守地图旋转BUG',
      '新增点击阵营切换按钮时，地图随即跟随旋转逻辑',
      '手工编辑防守方中文svg地图',
      '在编辑模式下，允许用户连续点击调整位置或者拖拽微调角色和技能图标',
      '点位卡片增加中文展示例如：进攻（ATK）、防守（DEF）',
      '新增地图编辑功能',
    ],
  },
  {
    date: '2025-12-03',
    items: [
      '修复删除点位按钮无反应问题',
      '优化地图缩放滚轮灵敏度，去除切换地图按钮',
      '优化地图弹窗字体，从1.125rem，改成2.2rem',
      '优化左侧栏，从上往下分别为：查看/新增点位，地图，阵营，英雄，技能排列',
      '手工编辑中文svg地图',
      '新增角色和技能之间的连线',
      '创建一个单人可用的、能够上传和查看点位的网站，两栏设计，左边角色和地图，右边地图（参考：Valtec和Blitz.gg）',
      '使用Gemini 3帮助项目立项',
    ],
  },
];
