/**
 * changelog - changelog
 *
 * 职责：
 * - 承载changelog相关的模块实现。
 * - 组织内部依赖与导出接口。
 * - 为上层功能提供支撑。
 */

type ChangelogItem = string | { text: string; children?: string[] };

export const changelogEntries: { date: string; items: ChangelogItem[] }[] = [
  {
    date: '2026-01-02',
    items: [
      '【优化】重构 Wiki 文档结构与内容',
      '【优化】优化个人库重置功能与UI细节调整',
      '【优化】全面更新 Wiki 文档以反映最新架构',
      '【优化】统一中文注释并生成目录说明文档',
    ],
  },
  {
    date: '2026-01-01',
    items: [
      '【BUG】修复移动端点位列表 Hook 顺序与弹窗 Esc 关闭',
      '【新增】新增 Supabase 数据库迁移脚本（案例存储与用户订阅）',
      '【优化】优化 Supabase 配置与 Proxy 降级模式',
      '【新增】新增用户认证与案例云存储功能规划',
    ],
  },
  {
    date: '2025-12-31',
    items: [
      '【优化】更换默认字体为 LXGW WenKai Screen',
      '【BUG】修复字体变更后文字颜色显示问题',
      '【优化】优化八字神煞计算逻辑',
      '【BUG】修复 Tailwind CSS @tailwind 规则警告',
    ],
  },
  {
    date: '2025-12-30',
    items: [
      '【优化】优化 Wiki 部署指南，新增阿里云 ESA 部署说明',
      '【新增】新增瞄点编辑器文档页面',
      '【优化】优化图床配置文档，新增本地上传说明',
      '【BUG】修复 SQL 语法错误问题',
      '【优化】移除未使用的数据库列',
    ],
  },
  {
    date: '2025-12-29',
    items: [
      '【优化】优化八字图表显示效果',
      '【新增】新增八字神煞动态计算（天乙贵人、太极贵人、文昌等）',
      '【BUG】修复弹窗点击外部关闭问题',
      '【优化】移除个人信息更新提示弹窗',
    ],
  },
  {
    date: '2025-12-28',
    items: [
      '【优化】优化用户认证系统架构',
      '【优化】重构个人库用户界面',
      '【BUG】修复头像同步与加载性能问题',
      '【优化】优化管理后台审核后清理逻辑',
    ],
  },
  {
    date: '2025-12-25',
    items: [
      '【新增】新增 Node.js 版本自动发版脚本',
      '【优化】优化自动构建流程',
      '【新增】新增灯箱插件支持图片大图预览',
    ],
  },
  {
    date: '2025-12-22',
    items: [
      '【新增】新增移动端点位详情浏览功能',
      '【优化】适配移动端底部标签栏布局',
      '【优化】优化移动端点击交互体验',
    ],
  },
  {
    date: '2025-12-21',
    items: [
      '【新增】新增移动端攻略列表页面',
      '【优化】优化响应式底部导航栏',
      '【新增】新增移动端头像与用户信息展示',
    ],
  },
  {
    date: '2025-12-20',
    items: [
      '【新增】新增移动端首页适配',
      '【新增】实现响应式三栏布局移动端降级',
      '【优化】优化触摸滚动与手势交互',
    ],
  },
  {
    date: '2025-12-19',
    items: [
      '【新增】新增瞄点编辑器工具',
      '【新增】支持自定义十字准线样式编辑',
      '【新增】实现瞄点实时预览与导出功能',
    ],
  },
  {
    date: '2025-12-18',
    items: [
      '【新增】新增管理后台仪表盘',
      '【新增】实现数据统计与可视化图表',
      '【新增】新增用户管理与点位审核功能',
    ],
  },
  {
    date: '2025-12-17',
    items: [
      '【优化】优化 Docker 部署配置',
      '【新增】新增 docker-compose 一键部署支持',
      '【优化】完善环境变量配置说明',
    ],
  },
  {
    date: '2025-12-16',
    items: [
      '【新增】新增公共阵容浏览功能',
      '【新增】实现置顶数据多端同步',
      '【优化】优化共享库数据加载性能',
    ],
  },
  {
    date: '2025-12-15',
    items: [
      '【新增】新增作者头像组件 UserCard',
      '【新增】支持从B站、抖音自动获取博主头像',
      '【优化】优化点位卡片作者信息展示',
    ],
  },
  {
    date: '2025-12-14',
    items: [
      '【新增】新增快捷菜单组件',
      '【BUG】修复快捷菜单 UI 样式问题',
      '【优化】优化剪贴板上传自动提取 http/https 链接',
    ],
  },
  {
    date: '2025-12-13',
    items: [
      '【新增】作者主页新增抖音的支持',
      '【新增】点位弹窗新增作者主页入口',
      '【优化】高级设置和OSS配置弹窗优化',
      '【BUG】修复选择地图弹窗描边问题',
      '【优化】修改图片资源命名规范',
      '【优化】图片资源转本地存储',
      '【新增】新增图片压缩功能及开关',
    ],
  },
  {
    date: '2025-12-12',
    items: [
      '【优化】完善修改密码功能',
      '【新增】新增筛选共享逻辑及按钮',
      '【新增】卡片列表新增共享者ID',
      '【优化】再次优化删除点位弹窗UI',
      '【优化】修改删除点位逻辑及UI',
      '【BUG】修复点位自动置顶BUG',
    ],
  },
  {
    date: '2025-12-11',
    items: [
      '【BUG】修复图床转移延迟过大问题',
    ],
  },
  {
    date: '2025-12-10',
    items: [
      '【新增】新增点位置顶功能',
      '【优化】精简项目结构',
      '【优化】优化精简项目代码',
      '【优化】拆分App.tsx模块',
      '【优化】优化图床后台转移判断，可选保持原图',
      '【新增】新增图床后台转移功能',
    ],
  },
  {
    date: '2025-12-09',
    items: [
      '【优化】去掉上传成功的提示，成功时直接回填链接且无弹窗',
      '【优化】优化新增/编辑页上传图片功能（剪贴板和链接输入两种方式）',
      '【新增】新增本地图床配置（目前只支持阿里云）',
      '【新增】查看大图时增加切换前后图片功能',
      '【优化】统一图文弹窗底部按钮样式',
      '【优化】优化查看点位弹窗标题与说明文案的位置',
      '【新增】编辑实现能再次修改地图点位数据',
      '【优化】优化新增/编辑图文攻略弹窗，从中部弹窗改成右侧抽屉式弹窗',
      '【优化】优化编辑已存在的点位，可以重新标注',
    ],
  },
  {
    date: '2025-12-08',
    items: [
      '【BUG】修复左侧栏技能图标选中与中间栏技能图标不吻合的情况',
      '【优化】角标展示该地图下该特工的总数，不受攻/防筛选影响',
      '【新增】新增AI记忆文档（AGENTS.md）',
      '【BUG】修改刷新页面后总是选中sova的BUG',
      '【BUG】修复用户可以无限复制共享库点位数据问题',
      '【新增】新增地图封面背景',
      '【新增】使用国服（无畏契约）api，自动映射正确的技能图标顺序和技能文案',
      '【新增】新增技能名称对照配置',
      '【新增】映射维斯、钛狐、幻棱、禁灭',
    ],
  },
  {
    date: '2025-12-07',
    items: [
      '【新增】新增地图封面背景',
      '【新增】使用国服（无畏契约）api，自动映射正确的技能图标顺序和技能文案',
      '【新增】新增技能名称对照配置',
      '【新增】映射维斯、钛狐、幻棱、禁灭',
      '【优化】重新映射所有英雄的技能图标',
      '【优化】如果点位是从共享库复制而来，直接提示使用原分享 ID，不再创建新的共享数据',
      '【BUG】已修复共享库保存到个人库时报 PGRST204: abilityIndex 列不存在 的问题',
      '【新增】编辑卡片新增选择阵营',
      '【优化】从App.tsx拆分多个功能模块',
      '【优化】优化更新日志代码排版',
      '【优化】优化更新日志渲染布局',
      '【优化】精简数据表SQL代码，实现三合一，一键复制SQL配置',
      '【新增】新增更新日志',
      '【优化】删除详情页图片标题的序号',
      '【新增】共享库定时清除数据（15天后自动清除共享库的数据）',
      '【优化】继续优化共享库和个人库的展示',
      '【新增】新增共享库点位和个人库点位展示',
      '【新增】新增站位2预览图',
      '【BUG】修复蚂蚁线',
      '【BUG】修复游客模式，在分享页面中，提示弹窗被遮挡问题',
      {
        text: '【新增】新增密码登录验证，以及分离用户模式和游客模式',
        children: [
          '登录模式：可新增、编辑、删除、分享点位',
          '游客模式：可查看和分享该 ID 的点位数据，新增/编辑/删除入口隐藏'
        ]
      },
      '【BUG】修复关闭编辑视图卡界面问题',
      '【BUG】修复蚂蚁线BUG',
      '【优化】优化点位来源，以及修改样式，限制备份文件提交到git',
      '【优化】重新优化点位弹窗的头部样式',
      '【新增】新增点位来源',
      '【优化】更新readme',
      '【优化】删除源码备份/快照',
      '【新增】新增共享库配置',
    ],
  },
  {
    date: '2025-12-06',
    items: [
      '【BUG】修复跨数据库互通，新增共享库',
      '【新增】新增cloudfare部署支持',
      '【优化】修改数据库逻辑，实现跨数据库互通',
      '【优化】列表分页调整，当等于小于8个时，隐藏分页按钮，当超过8个时，显示列表分页按钮',
      '【新增】新增自定义ID，支持跨设备共享',
      '【BUG】修复部分字体乱码的情况',
      '【优化】格式化CSS文档',
      '【优化】去除中部地图左上角的浮动模块',
      '【优化】编辑与关闭按钮间距调整',
      '【优化】将页面内所有的10px字体提升至12px',
      '【优化】卡片列表样式调整，保持图标一致性',
      '【优化】分享按钮迁移至右侧栏',
      '【新增】新增网站LOGO以及ICO',
      '【优化】去除SVG自带#ddd背景',
      '【优化】点位查看时的自动刷新并重置筛选，避免旧点位被筛掉',
      '【优化】将地图从图床改成本地图片形式',
    ],
  },
  {
    date: '2025-12-05',
    items: [
      '【优化】移除对firebase的支持，使用supabase做后端',
      '【新增】新增git做本地版本管理',
      '【新增】新增一键清除点位数据按钮',
      '【优化】阵营选择迁移至右侧栏',
      '【新增】分享页面新增保存点位按钮，可以保存点位到自己的库中',
      {
        text: '【新增】分享页面定制',
        children: [
          '右侧栏：全屏地图',
          '左侧栏：地图、阵营、点位标题、点位图片'
        ]
      },
      '【新增】添加点位分享功能',
      {
        text: '【优化】更新UI布局，使用三栏布局',
        children: [
          '右侧栏：查看点位、新增点位',
          '中间栏：全屏地图',
          '左侧栏：地图、阵营、英雄、技能'
        ]
      },
      '【优化】优化冗余的代码以及没有被引用的数据库',
      '【优化】拆分App.tsx，优化结构',
      '【新增】使用codex进行本地项目构建（Vite + React + TypeScript + firebase）',
    ],
  },
  {
    date: '2025-12-04',
    items: [
      '【优化】统一弹窗样式，为左侧单描边样式',
      '【新增】新增点位重复编辑按钮',
      '【新增】新增角色点位数量角标',
      '【新增】新增鼠标在角色或技能图标悬停时，显示蚂蚁线',
      '【优化】删除编辑时的详细说明文本框',
      '【新增】新增瞄点2图片占位',
      '【新增】新增点位编辑添加图片链接功能',
      '【优化】去除地图中放大缩小按钮',
      '【BUG】修复角色和技能不随防守地图旋转BUG',
      '【新增】新增点击阵营切换按钮时，地图随即跟随旋转逻辑',
      '【新增】手工编辑防守方中文svg地图',
      '【优化】在编辑模式下，允许用户连续点击调整位置或者拖拽微调角色和技能图标',
      '【新增】点位卡片增加中文展示例如：进攻（ATK）、防守（DEF）',
      '【新增】新增地图编辑功能',
    ],
  },
  {
    date: '2025-12-03',
    items: [
      '【BUG】修复删除点位按钮无反应问题',
      '【优化】优化地图缩放滚轮灵敏度，去除切换地图按钮',
      '【优化】优化地图弹窗字体，从1.125rem，改成2.2rem',
      '【优化】优化左侧栏，从上往下分别为：查看/新增点位，地图，阵营，英雄，技能排列',
      '【新增】手工编辑中文svg地图',
      '【新增】新增角色和技能之间的连线',
      '【新增】创建一个单人可用的、能够上传和查看点位的网站，两栏设计，左边角色和地图，右边地图（参考：Valtec和Blitz.gg）',
      '【新增】使用Gemini 3帮助项目立项',
    ],
  },
];
